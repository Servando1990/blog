---
import Layout from '../layouts/Layout.astro';
import { getAllPosts } from '../utils/posts';
import { formatDate } from '../utils/dates';

const posts = await getAllPosts();
const recentPosts = posts.slice(0, 5);
---

<Layout title="Servando's Blog - AI, ML, and Technology Insights">
  <section class="text-center mb-16 py-12">
    <h1 class="text-5xl md:text-6xl font-bold mb-6 bg-gradient-to-r from-text-700 to-text-500 bg-clip-text text-transparent">
      Hi, I'm Servando ðŸ‘‹
    </h1>
    <p class="text-xl text-text-600 dark:text-text-300 max-w-2xl mx-auto leading-relaxed">
      I write about AI, machine learning, and technology. 
      Welcome to my digital garden where I share insights, experiments, and learnings.
    </p>
  </section>

  <section class="mb-12">
    <h2 class="text-3xl font-bold mb-8 border-b-2 border-accent-500 pb-2 inline-block">
      Recent Posts
    </h2>
    
    {recentPosts.length > 0 ? (
      <>
        <div class="space-y-8">
          {recentPosts.map((post) => (
            <article class="bg-surface-100 dark:bg-surface-800 p-6 rounded-lg border border-surface-200 dark:border-surface-700 hover:border-accent-400 transition-all duration-200 hover:transform hover:-translate-y-1">
              <div class="text-sm text-text-500 dark:text-text-400 mb-2">
                {formatDate(post.data.date)}
              </div>
              <h3 class="text-xl font-semibold mb-3">
                <a href={`/posts/${post.slug}`} class="text-text-800 dark:text-text-100 hover:text-accent-600 transition-colors">
                  {post.data.title}
                </a>
              </h3>
              {post.data.description && (
                <p class="text-text-600 dark:text-text-300 leading-relaxed mb-4">
                  {post.data.description}
                </p>
              )}
              {post.data.categories.length > 0 && (
                <div class="flex gap-2 flex-wrap">
                  {post.data.categories.map((category) => (
                    <a href={`/categories/${category.toLowerCase()}`} class="bg-accent-500 hover:bg-accent-600 text-white px-3 py-1 rounded-full text-xs font-medium transition-all duration-200 hover:transform hover:-translate-y-0.5">
                      {category}
                    </a>
                  ))}
                </div>
              )}
            </article>
          ))}
        </div>
        
        <div class="text-center mt-12">
          <a href="/posts" class="inline-flex items-center gap-2 bg-text-600 hover:bg-text-700 text-surface-50 px-8 py-3 rounded-lg font-semibold transition-all duration-200 hover:transform hover:-translate-y-1 hover:shadow-lg">
            View all posts â†’
          </a>
        </div>
      </>
    ) : (
      <p class="text-text-600 dark:text-text-400">No posts yet. Start writing!</p>
    )}
  </section>
</Layout>

